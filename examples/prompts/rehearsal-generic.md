# リハーサル記録作成プロンプト（汎用LLM向け）

ChatGPT、Gemini、その他のLLMで使用するリハーサル記録作成プロンプトの例です。

---

## シンプル版プロンプト

```
あなたは音楽分野の専門家です。オーケストラのリハーサル字幕ファイルを分析し、
参加できなかったメンバー向けの詳細なリハーサル記録を作成してください。

【入力】
以下のSRT形式の字幕ファイルを分析してください：
[ここに字幕ファイルの内容をペースト]

【リハーサル情報】
- 日付：YYYY年MM月DD日
- 団体名：
- 指揮者：
- 曲目：
- 著者パート：（例：ホルン）

【出力形式】
1. リハーサル概要（基本情報、時系列構造）
2. 時系列展開（タイムスタンプ付きセクション）
3. 著者パート向け指示まとめ
4. 音楽用語集
5. まとめ

注意点：
- 全セクションにタイムスタンプ [HH:MM:SS] を付与
- 誤認識を文脈から修正（例：「ホルモン」→「ホルン」）
- 指揮者の指示を音楽的文脈と共に記録
```

---

## 詳細版プロンプト

```
# タスク

オーケストラ・吹奏楽のリハーサル動画の字幕ファイルを分析し、
参加できなかったメンバーにも理解できる詳細なリハーサル記録を作成してください。

# 入力ファイル

以下の字幕ファイル（SRT形式）を分析してください：

【YouTube自動生成字幕】
```srt
1
00:00:00,000 --> 00:00:05,000
今日はドヴォルザークの8番をやりましょう

2
00:00:05,000 --> 00:00:10,000
まず冒頭から
```

【Whisper高精度字幕】（ある場合）
```srt
1
00:00:00,320 --> 00:00:04,880
今日はドヴォルザークの8番をやりましょう

2
00:00:05,120 --> 00:00:09,600
まず冒頭からお願いします
```

# リハーサル基本情報

- 日付：
- 団体名：
- 指揮者：
- 曲目：
- 本番日程：
- レポート著者：
- 著者の視点：（例：ホルンセクション）

# 字幕分析の注意点

## YouTube字幕の特徴
- 長所：音楽演奏中も継続的に記録
- 短所：精度が低い、誤認識が多い
- 用途：時系列構造の把握

## Whisper字幕の特徴
- 長所：発話内容の精度が高い
- 短所：音楽演奏中は記録されない
- 用途：指揮者の具体的な指示

## 統合分析
1. YouTube字幕で全体の流れを把握
2. Whisper字幕で指揮者の指示を正確に記録
3. 両方の長所を活かして最も正確な記録を生成

# 出力構造

## 1. リハーサル概要
- 基本情報（日付、団体、指揮者、曲目）
- 時系列構造（全体の流れ、主要セクション）
- 使用したデータソース

## 2. 時系列展開

曲ごとまたは楽章ごとにセクション分け：

```markdown
## 第1楽章 [00:00:00〜00:45:00]

### 冒頭部分の練習 [00:00:06.320]

指揮者の指示：
- 「もっとレガートで」
- 「ホルンはここでクレッシェンド」

### 練習番号Aからの練習 [00:05:30.000]

...
```

重要：すべてのセクションにタイムスタンプを付与

## 3. パート別指示まとめ

著者のパート（例：ホルン）向けの指示を抽出：
- 重要度順に整理
- タイムスタンプへの参照を含める

## 4. 音楽用語集

リハーサルで使用されたイタリア語音楽用語：
- forte（フォルテ）- 強く
- legato（レガート）- 滑らかに
- crescendo（クレッシェンド）- だんだん強く

## 5. Summary

- リハーサル全体の総括
- 本番に向けた課題と目標

# タイムスタンプ形式

- 形式：[HH:MM:SS] または [HH:MM:SS.mmm]
- 位置：セクションタイトルの末尾
- 例：「### 冒頭部分の練習 [00:11:35]」

# 文脈からの補足と校正

指揮者の指示を記録する際：
- 発話内容だけでなく、音楽的文脈を補足
- 誤認識を文脈から修正（例：「ホルモン」→「ホルン」）
- 指示の対象パート、楽譜上の位置を明記
- 音楽用語は正確な表記に統一

例：
❌ 元の字幕：「ほるもんもっとおおきく」
✅ 校正後：ホルンはもっと大きく（フォルテで）

# 品質基準

生成されたリハーサル記録は以下を満たすこと：
- 参加できなかったメンバーが読むだけで内容を理解できる
- 指揮者の指示が文脈と共に正確に記録されている
- タイムスタンプにより動画と対応づけられる
- 著者のパート向けの指示が明確に抽出されている
```

---

## 使用のヒント

### ChatGPTの場合

1. 字幕ファイルが長い場合は分割して入力
2. 「続けて」で追加分析を依頼
3. Code Interpreterでファイルアップロード可能

### Geminiの場合

1. 長いコンテキストに対応
2. ファイルを直接アップロード可能

### ローカルLLMの場合

1. 字幕ファイルのサイズに注意（コンテキスト長制限）
2. 必要に応じて字幕を前処理で要約

---

## 関連

- [rehearsal-claude.md](rehearsal-claude.md) - Claude用プロンプト
- [claude/commands/rehearsal.md](../../claude/commands/rehearsal.md) - Claude Code統合版
